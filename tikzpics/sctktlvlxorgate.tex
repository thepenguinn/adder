\ctikzsubcircuitdef{sctktlvlxorgate} {A, B, O, V, G} {
	coordinate(#1-A) -- ++(2,0) to[short, -*] ++(1.5,0)
	coordinate(#1-Abr) -- ++(1.5,0)
	to[R, l=~, name=#1-r1] ++(2,0)
	coordinate (#1-Ares) -- ++(1.5,0)
	node(#1-nb1)[npn, anchor=B]{}
	(#1-nb1.C) to[short, *-] ++($(#1-Ares)-(#1-nb1.B)$)
	-- ++(0,-1.5)
	node(#1-nb2)[npn, anchor=C]{}
	(#1-nb2.E) to[short, -*] (#1-nb2.E-|#1-nb1.E)
	-- (#1-nb1.E)
	(#1-nb2.B) -- (#1-nb2.B-|#1-Ares)
	to[R, l=~, name=#1-r2] ++(-2,0)
	-- (#1-Abr|-#1-nb2.B) to[short, -*] ++(-1.5,0)
	coordinate(#1-Bbr) -- (#1-A|-#1-nb2.B)
	coordinate(#1-B)
	(#1-Abr) -- (#1-Abr|-#1-Bbr) -- ++(0,-0.5)
	to[R, l=~, name=#1-r3] ++(0,-2)
	-- ++(0,-0.5)
	node(#1-nb3)[npn, anchor=B]{}
	(#1-nb3.E) node(#1-nb4)[npn, anchor=C]{}
	(#1-nb4.B) -- (#1-Bbr|-#1-nb4.B) -- ++(0,1)
	to[R, l=~, name=#1-r4] ++(0,2) -- (#1-Bbr)
	(#1-nb1.C) -- ++(1,0) node(#1-nb5)[npn, anchor=B]{}
	(#1-nb5.C) to[short, *-] ++(2,0) -- ++(0.5,0)
	coordinate(#1-O)
	(#1-nb1.C) -- (#1-nb1.C|-#1-nb5.C)
	-- ++(0,1)
	to[R, l=~, name=#1-r5, -*] ++(0,2)
	coordinate(#1-Vbr)
	-- (#1-nb3.C|-#1-Vbr)
	to[R, l=~, name=#1-r6] ++(0,-2) -- (#1-nb3.C)
	(#1-nb5.C) -- ++(0,0.5)
	coordinate(#1-Obr)
	to[short, -*] (#1-nb3|-#1-Obr)
	(#1-Vbr) -- ++(0,2)
	coordinate(#1-V)
	(#1-nb4.E) to[short, -*] (#1-nb4.E-|#1-nb1.E)
	-- (#1-nb2.E-|#1-nb1.E)
	(#1-nb5.E) -- (#1-nb4.E-|#1-nb5.E)
	-- (#1-nb4.E-|#1-nb1.E)
	-- ++(0,-2)
	coordinate(#1-G)
}

\ctikzsubcircuitactivate{sctktlvlxorgate}

% name, baseresistor, outresistor, gatetransistor
\newcommand\sctklabeltlvlxorgate[4] {
	(#1-r1.n) node[above]{#2}
	(#1-r2.n) node[below]{#2}
	(#1-r3.south) node[left]{#2}
	(#1-r4.n) node[left]{#2}
	(#1-r5.n) node[left]{#2}

	(#1-r6.s) node[left]{#3}

	(#1-nb1) node[right]{#4}
	(#1-nb2) node[right]{#4}
	(#1-nb3) node[right]{#4}
	(#1-nb4) node[right]{#4}
	(#1-nb5) node[right]{#4}
}
